/*! PS-Maps - v2.9.5
 * https://n3rds.work/piestingtal-source-project/ps-gmaps/
 * Copyright (c) 2018-2022; * Licensed GPLv2+ */
jQuery(function() {
    if (void 0 !== window._agm) {
        var a = jQuery(document),
            b = null,
            c = null,
            d = _agm.root_url + "/img/system/map_center.png",
            e = function(a, d, e) {
                if (b = d, null !== c && (c.setMap(null), c = null), void 0 !== e.map_center) {
                    var f = new window.google.maps.LatLng(e.map_center[0], e.map_center[1]);
                    d.setCenter(f), g()
                }
            },
            f = function(a, b, c) {
                var e = jQuery("#agm_map_drop_marker", b),
                    f = jQuery('<button type="button" class="button-secondary"></button>');
                f.text("Zentriert setzen"), f.prepend('<img src="' + d + '" style="height:20px;margin:3px;vertical-align:top" />'), f.insertAfter(e), f.on("click", g)
            },
            g = function() {
                if (null === b) return !1;
                var a = b.getCenter();
                null !== c && c.setMap(null), c = new window.google.maps.Marker({ title: "Center", map: b, icon: d, draggable: !0, clickable: !1, position: a, zIndex: 999 }), c.setMap(b)
            },
            h = function(a, b) { null !== c && (b.map_center = [c.position.lat(), c.position.lng()]) };
        a.on("agm_google_maps-admin-map_initialized", e), a.on("agm_google_maps-admin-markup_created", f), a.on("agm_google_maps-admin-save_request", h)
    }
});