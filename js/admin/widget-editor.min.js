/*! PS-Maps - v2.9.5
 * https://n3rds.work/piestingtal-source-project/ps-gmaps/
 * Copyright (c) 2018-2022; * Licensed GPLv2+ */
jQuery((function(){var i=!1,t=!1;jQuery("body").on("click",".agm_create_new_map",(function(){var e,a=jQuery(this);return t=a.parents(".agm_widget_query_options"),e=wpmUi.popup().size(740,640).title(l10nEditor.new_map).content('<div><div id="map_editor"><div id="map_preview_container"><div id="map_preview"></div></div></div><div class="buttons"></div></div>').modal(!0).loading(!0).set_class("agm-editor agm-no-back").show(),jQuery.post(window.ajaxurl,{action:"agm_new_map"},(function(t){i&&i.destroy(),i=new window.AgmMapHandler("#map_editor",t,!1),e.loading(!1)})),!1})),jQuery(document).on("agm-map-saved",(function(i,e){if(!t)return!1;jQuery.post(window.ajaxurl,{action:"agm_list_maps"},(function(i){if("object"!=typeof i||void 0===i.maps||!i.total)return!1;var a="";jQuery.each(i.maps,(function(i,t){a+='<option value="'+t.id+'" '+(t.id===e?'selected="selected"':"")+">"+t.title+"</option>"})),t.find(".map_id_switch").attr("checked",!0),t.find(".map_id_switch").trigger("click"),t.find(".map_id_target").html(a)}))}))}));